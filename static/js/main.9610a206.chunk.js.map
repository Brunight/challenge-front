{"version":3,"sources":["hooks/useWindowDimensions.ts","components/Menu/styles.ts","components/Menu/index.tsx","assets/agencia-eplus-n-logo.png","components/Header/styles.ts","utils/addDots.ts","utils/format.ts","components/CartScrollbar/index.tsx","components/Cart/styles.ts","components/Cart/index.tsx","components/Header/index.tsx","pages/Home/styles.ts","pages/Home/index.tsx","styles/global.ts","App.tsx","index.tsx"],"names":["getWindowDimensions","window","width","innerWidth","height","innerHeight","Container","styled","nav","props","isMobile","css","Menu","header","Content","div","addDots","string","limit","length","substring","formatPrice","Intl","NumberFormat","style","currency","format","CartScrollbar","children","useState","position","setPosition","handleScroll","useCallback","event","console","log","stopPropagation","useEffect","addEventListener","removeEventListener","flex","onUpdate","values","top","renderThumbVertical","backgroundColor","CartItem","ItemInfo","Cart","close","wrapperRef","useRef","cart","setCart","fetch","then","res","json","data","item","handleClickOutside","cartNode","findDOMNode","current","contains","target","document","total","reduce","sumTotal","product","quantity","bestPrice","handleCheckout","ref","map","src","image","alt","name","bestPriceFormated","productId","type","onClick","Header","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","isCollapsed","setIsCollapsed","isCartOpen","setIsCartOpen","useMemo","handleCollapseClick","oldValue","handleCartClick","e","preventDefault","handleSearchClick","handleProfileClick","imgLogo","className","size","Home","GlobalStyle","createGlobalStyle","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9610a206.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}","import styled, { css } from 'styled-components';\n\ninterface ContainerProps {\n  isMobile: boolean;\n}\n\nexport const Container = styled.nav<ContainerProps>`\n  ul {\n    list-style-type: none;\n  }\n\n  li {\n    /* display: inline-block; */\n    font-size: 1rem;\n    font-weight: 500;\n    line-height: 2rem;\n    margin: 0 1rem;\n    cursor: pointer;\n\n    transition: filter 0.2s;\n\n    &:hover {\n      filter: brightness(2);\n    }\n\n    ${(props) => !props.isMobile && css`\n      display: inline-block;\n    `}\n  }\n\n  @media (max-width: 1270px) {\n    li {\n      margin: 0 0.6rem;\n    }\n  }\n`;","import React from 'react';\n\nimport { Container } from './styles';\n\ninterface MenuProps {\n  isMobile?: boolean;\n}\n\nconst Menu: React.FC<MenuProps> = ({ isMobile }) => {\n  return (\n    <Container isMobile={!!isMobile}>\n      <ul>\n        <li>Lorem ipsum</li>\n        <li>Lorem ipsum</li>\n        <li>Lorem ipsum</li>\n        <li>Lorem ipsum</li>\n        <li>Lorem ipsum</li>\n      </ul>\n    </Container>\n  )\n}\n\nexport default Menu;","export default __webpack_public_path__ + \"static/media/agencia-eplus-n-logo.490ef0bf.png\";","import styled from 'styled-components';\n\nexport const Container = styled.header`\n  max-width: 100vw;\n  margin: 0 auto;\n\n  padding: 1rem 2rem 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  box-shadow: 0px 0px 12.35px 0.65px rgba(0, 0, 0, 0.13);\n\n  button.icon {\n    background: var(--background);\n    border: none;\n    margin-right: 2rem;\n    color: #000;\n    transition: opacity 0.2s;\n    outline: none;\n\n    &:hover {\n      opacity: 0.6;\n    }\n  }\n  \n  button.dropdown {\n    display: none;\n    margin: 0;\n  }\n\n  @media (max-width: 1120px) {\n    padding: 1rem 1rem 0rem;\n\n    button.icon {\n      margin-right: 0.5rem;\n    }\n    \n    button.dropdown {\n      display: block;\n      margin: 0;\n    }\n  }\n`;\n\nexport const Content = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  \n  @media (max-width: 1270px) {\n    img {\n      width: 220px;\n    }\n  }\n\n  @media (max-width: 1120px) {\n    img {\n      width: 200px;\n    }\n  }\n`;\n","function addDots(string: string, limit: number) {\n  var dots = '...';\n  if(string.length > limit) {\n    string = string.substring(0,limit) + dots;\n  }\n  return string;\n}\n\nexport default addDots","export const { format: formatPrice } = new Intl.NumberFormat('pt-br', {\n  style: 'currency',\n  currency: 'BRL',\n});\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nconst CartScrollbar: React.FC = ({ children }) => {\n  const [position, setPosition] = useState(0);\n\n  const handleScroll = useCallback((event: Event) => {\n    if (position >= 1) {\n      console.log(\"Reached scroll end!\");\n      event.stopPropagation();\n    }\n  }, [position]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [handleScroll]);\n\n  return (\n    <Scrollbars\n      style={{ flex: 1 }}\n      onUpdate={(values) => setPosition(values.top)}\n      renderThumbVertical={(style, ...props) => \n        <div \n          {...props} \n          style={{ ...style, backgroundColor: '#707070', width: 10 }}\n        />\n      }\n    >\n      {children}\n    </Scrollbars>\n  );\n}\n\nexport default CartScrollbar;","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  background: var(--cart-background);\n  &:before {\n    content: \"\";\n    position: absolute;\n    display: block;\n    top: -20px;\n    right: 27px;\n    width: 0;\n    height: 0;\n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    border-bottom: 20px solid var(--cart-item-background);\n  }\n\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 91px;\n  right: 32px;\n  width: 320px;\n  height: 460px;\n  box-shadow: 0px 2px 4.95px 0.05px rgba(0, 0, 0, 0.14);\n  \n  @media (max-width: 1270px) {\n    top: 73px;\n  }\n\n  @media (max-width: 1120px) {\n    top: 84px;\n    right: 10px;\n    min-width: 300px;\n    \n    &:before {\n      right: 7px;\n    }\n  }\n\n  span {\n    text-align: center;\n    font-size: 1.1rem;\n    line-height: 4rem;\n  }\n\n  button {\n    height: 4rem;\n    color: #fff;\n    background: var(--green);\n    border: 0;\n    font-size: 1.1rem;\n    font-weight: 700;\n\n    transition: filter 0.2s;\n\n    &:hover {\n      filter: brightness(0.9);\n    }\n  }\n`;\n\nexport const CartItem = styled.div`\n  display: flex;\n  height: 7rem;\n  padding: 1rem 1rem 1rem;\n  margin-right: 10px;\n\n  background: var(--cart-item-background);\n\n  img {\n    height: 100%;\n    width: auto;\n  }\n\n  & + div {\n    margin-top: 1px;\n  }\n\n  transition: filter 0.1s;\n\n  &:hover {\n    filter: brightness(0.9);\n  }\n`;\n\nexport const ItemInfo = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 0.5rem 0.7rem;\n\n  span {\n    display: inline-block;\n    font-size: 13px;\n    line-height: 16px;\n    text-align: left;\n  }\n  \n  div {\n    display: flex;\n    justify-content: space-between;\n    margin-right: 1rem;\n\n    span {\n      font-size: 14px;\n      font-weight: 500;\n    }\n    strong {\n      color: var(--green);\n      font-weight: 600;\n    }\n  }\n`;\n","import React, { useCallback, useEffect, useState, useRef } from 'react';\nimport addDots from '../../utils/addDots';\nimport { formatPrice } from '../../utils/format';\nimport CartScrollbar from '../CartScrollbar';\nimport { findDOMNode } from 'react-dom';\n\nimport { Container, CartItem, ItemInfo } from './styles';\n\ninterface Product {\n  productId: number;\n  name: string;\n  salesChannel: string;\n  available: boolean;\n  bestPriceFormated: string;\n  bestPrice: number;\n  quantity: number;\n  image: string;\n}\n\ninterface CartProps {\n  close: () => void;\n}\n\nconst Cart: React.FC<CartProps> = ({ close }) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n\n  const [cart, setCart] = useState<Product[]>([]);\n\n  useEffect(() => {\n    fetch('products.json')\n      .then((res) => res.json())\n      .then((data) => setCart(data.cart.item));\n  }, []);\n\n  \n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      const cartNode = findDOMNode(wrapperRef.current);\n      if (!cartNode || !cartNode.contains(event.target as Node)) {\n        close();\n        event.stopPropagation();\n      }\n    }\n\n    document.addEventListener(\"click\", handleClickOutside, true);\n    return () => document.removeEventListener(\n      \"click\", \n      handleClickOutside, \n      true\n    );\n  }, [wrapperRef, close]);\n  \n  const total = formatPrice(\n    cart.reduce((sumTotal, product) => {\n      sumTotal += product.quantity * product.bestPrice / 100;\n\n      return sumTotal;\n    }, 0)\n  );\n  \n  const handleCheckout = useCallback(() => {\n    console.log('Checkout button clicked!');\n  }, []);\n\n  return (\n    <Container ref={wrapperRef} >\n      <CartScrollbar>\n        {cart.map((product => (\n          <CartItem key={product.productId}>\n            <img src={product.image.substring(1)} alt={product.name}/>\n            <ItemInfo>\n              <span>{addDots(product.name, 40)}</span>\n              <div>\n                <span>Qtd.: {product.quantity}</span>\n                <strong>{product.bestPriceFormated}</strong>\n              </div>\n            </ItemInfo>\n          </CartItem>\n        )))}\n      </CartScrollbar>\n      <span>Total do pedido: <strong>{total}</strong></span>\n      <button type=\"button\" onClick={handleCheckout}>FINALIZAR COMPRA</button>\n    </Container>\n  );\n}\n\nexport default Cart;","import React, { useCallback, useMemo, useState } from 'react';\n\nimport { \n  MdShoppingCart,\n  MdSearch,\n  MdPerson,\n  MdArrowDropDown,\n  MdArrowDropUp\n} from 'react-icons/md';\n\nimport useWindowDimensions from '../../hooks/useWindowDimensions';\nimport Menu from '../Menu';\nimport imgLogo from '../../assets/agencia-eplus-n-logo.png'\n\nimport { Container, Content } from './styles';\nimport Cart from '../Cart';\n\nconst Header: React.FC = () => {\n  const { width } = useWindowDimensions();\n  const [isCollapsed, setIsCollapsed] = useState(true);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n\n  const isMobile = useMemo(() => {\n    return width < 1120;\n  }, [width]);\n\n  const handleCollapseClick = useCallback(() => {\n    setIsCollapsed((oldValue) => !oldValue);\n    setIsCartOpen(false);\n  }, []);\n\n  const handleCartClick = useCallback((e) => {\n    e.preventDefault();\n    setIsCartOpen((oldValue) => !oldValue);\n    setIsCollapsed(true);\n  }, []);\n  \n  const handleSearchClick = useCallback(() => {\n    console.log('Search icon clicked!');\n  }, []);\n  \n  const handleProfileClick = useCallback(() => {\n    console.log('Profile icon clicked!');\n  }, []);\n\n  return (\n    <Container>\n      <Content>\n        <img src={imgLogo} alt=\"E-Plus\"/>\n\n        {!isMobile && <Menu />}\n\n        <div>\n          <button\n            type=\"button\"\n            onClick={handleSearchClick}\n            className=\"icon\"\n          >\n            <MdSearch size={32} />\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleProfileClick}\n            className=\"icon\"\n          >\n            <MdPerson size={32} />\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleCartClick}\n            className=\"icon\"\n          >\n            <MdShoppingCart size={32} />\n          </button>\n        </div>\n        \n        {isCartOpen && <Cart close={() => setIsCartOpen(false)} />}\n      </Content>\n\n\n      {isMobile && !isCollapsed && <Menu isMobile />}\n      <button\n        type=\"button\"\n        onClick={handleCollapseClick}\n        className=\"icon dropdown\"\n      >\n        {isCollapsed\n          ? <MdArrowDropDown size={32} />\n          : <MdArrowDropUp size={32} />\n        }\n      </button>\n    </Container>\n  );\n}\n\nexport default Header;","import styled from 'styled-components';\n\nexport const Container = styled.div``;","import { Container } from './styles';\n\nexport function Home() {\n  return (\n    <Container />\n  )\n}","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  :root {\n    --background: #ffffff;\n\n    --cart-background: #e6e6e6;\n    --cart-item-background: #f0f0f0;\n\n    --icons: #000000;\n\n    --green: #00bb16;\n\n    --text-title: #565656;\n    --text-body: #333333;\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html {\n    @media (max-width: 1120px) {\n      font-size: 93.75%;\n    }\n\n    @media (max-width: 720px) {\n      font-size: 87.5%;\n    }\n  }\n\n  body {\n    background: var(--background);\n    -webkit-font-smoothing: antialiased;\n    color: var(--text-body);\n  } \n\n  body, input, textarea, button {\n    font-family: 'Montserrat', sans-serif;\n    font-weight: 400;\n  }\n\n  h1, h2, h3, h4, h5, h6, strong {\n    font-weight: 700;\n  }\n\n  button {\n    cursor: pointer;\n  }\n`;","import Header from './components/Header';\nimport { Home } from './pages/Home';\nimport { GlobalStyle } from './styles/global';\n\nfunction App() {\n\n  return (\n    <>\n      <Header />\n\n      <Home />\n\n      <GlobalStyle />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}